# ChatList

## 1. Назначение программы

ChatList - это Python-приложение, предназначенное для тестирования и сравнения ответов различных LLM-моделей на один и тот же запрос с последующим сохранением и анализом этих ответов. Пользователь формирует запрос, программа отправляет его на выбранные модели и отображает результаты в удобной таблице. Полученные результаты могут быть сохранены и использованы в дальнейшем.

## 2. Стек

- Python 3.11+
- SQLite
- Любая библиотека для HTTP-запросов (requests / httpx)
- GUI: PyQt

## 3. Таблицы базы данных

Программа хранит следующие данные в базе данных SQLite:

- **prompts** - таблица запросов  
  Поля: дата, prompt, текст

- **models** - таблица моделей  
  Поля: name, api_url, api_id, is_active  

  API-ключи не хранятся в таблице, а берутся из файла `.env`.

- **results** - таблица полученных результатов

- **settings** - общие настройки приложения

## 4. Рабочий процесс

### 4.1 Выбор запроса

Пользователь:
- вводит новый запрос, **или**
- выбирает ранее сохранённый запрос из таблицы `prompts`

### 4.2 Отправка запроса

Программа:
- выбирает все активные модели (`models.where(is_active = 1)`)
- отправляет запрос в каждую модель
- записывает полученные ответы во временную таблицу результатов (в памяти, не в SQLite)

### 4.3 Интерфейс результатов

На экране пользователь видит таблицу, где каждая строка содержит:
- название модели
- текст ответа
- чекбокс `selected`

### 4.4 Сохранение выбранных результатов

По нажатию пользователем кнопки <Сохранить>:
- все строки с `selected = True` записываются в таблицу `results`
- временная таблица очищается

### 4.5 Поиск запросов

Реализуется поиск запроса по базе:
- по ключевым словам
- по дате получения ответов

## 5. Требования к реализации

- Работа с SQLite должна быть инкапсулирована в отдельном модуле `db.py`
- Логика работы с моделями - в `models.py`
- Отправка запросов к API LLM - в `network.py`
- Графический интерфейс - в `main.py`

## 6. Дополнительные функции (опционально)

- Для всех таблиц должна быть реализована пагинация
- Экспорт выбранных результатов в Markdown / JSON
- Поддержка разных типов моделей (OpenAI, DeepSeek, Groq и т. д.)
- Логирование запросов
